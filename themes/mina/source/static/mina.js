!function(t){var e={};function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){t.exports=function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},e="undefined"!=typeof document&&document.documentMode,n={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var n=document.createElement("img");e&&t.getAttribute("data-iesrc")&&(n.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(n.alt=t.getAttribute("data-alt")),t.appendChild(n)}t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset")),t.getAttribute("data-background-image")&&(t.style.backgroundImage="url('"+t.getAttribute("data-background-image")+"')"),t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function s(t){t.setAttribute("data-loaded",!0)}var o=function(t){return"true"===t.getAttribute("data-loaded")};return function(){var e,i,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=t({},n,a),d=c.root,l=c.rootMargin,u=c.threshold,h=c.load,m=c.loaded,f=void 0;return window.IntersectionObserver&&(f=new IntersectionObserver((e=h,i=m,function(t,n){t.forEach(function(t){(0<t.intersectionRatio||t.isIntersecting)&&(n.unobserve(t.target),o(t.target)||(e(t.target),s(t.target),i(t.target)))})}),{root:d,rootMargin:l,threshold:u})),{observe:function(){for(var t=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)}(r,d),e=0;e<t.length;e++)o(t[e])||(f?f.observe(t[e]):(h(t[e]),s(t[e]),m(t[e])))},triggerLoad:function(t){o(t)||(h(t),s(t),m(t))},observer:f}}}()},function(t,e,n){var s,o,i;!function(n,r){"use strict";o=[],void 0===(i="function"==typeof(s=function(){var t={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};function e(t){this.callback=t,this.ticking=!1}function n(t,e){var s;e=function t(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var n,s,o=e||{};for(s=1;s<arguments.length;s++){var i=arguments[s]||{};for(n in i)"object"==typeof o[n]&&(!(r=o[n])||"undefined"==typeof window||r!==window&&!r.nodeType)?o[n]=t(o[n],i[n]):o[n]=o[n]||i[n]}var r;return o}(e,n.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=(s=e.tolerance)===Object(s)?s:{down:s,up:s},this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,e.prototype={constructor:e,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},n.prototype={constructor:n,init:function(){if(n.cutsTheMustard)return this.debouncer=new e(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var e in this.initialised=!1,t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,n=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,s=t>=this.offset;return n&&s&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,s=t<=this.offset;return n&&e||s},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},n.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},n.cutsTheMustard=void 0!==t&&t.rAF&&t.bind&&t.classList,n})?s.apply(e,o):s)||(t.exports=i)}()},function(t,e,n){"use strict";var s,o,i;"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(s=function(){return function(t){var e=document,n=function(t){return e.getElementById(t)},s=function(t,e,n){var s=new XMLHttpRequest;s.open("GET",encodeURI(t),!0),s.onload=function(){if(200<=s.status&&s.status<300||304===s.status){var t=JSON.parse(s.responseText);e(t)}else d()},s.timeout=4500,s.ontimeout=function(t){n(t)},s.onerror=function(t){n(t)},s.send()},o=function(t,e){try{localStorage.setItem(t,e)}catch(t){}},i=function(t){var e=function(t){return t<10?"0".concat(t):t};t=Date.parse(new Date(t));var n=(t=new Date(t+288e5)).getFullYear(),s=e(t.getMonth()+1),o=e(t.getDate()),i=e(t.getHours()),r=e(t.getMinutes());return"".concat(n,"-").concat(s,"-").concat(o," ").concat(i,":").concat(r)};function r(){var t=e.createElement("script");n("disqus_thread").innerHTML='<div id="dsqjs"><section><div id="dsqjs-msg">评论完整模式加载中...如果长时间无法加载，请针对 disq.us | disquscdn.com | disqus.com 启用代理，或使用 <a id="dsqjs-force-dsqjs" class="dsqjs-msg-btn">评论基础模式</a></div></section><footer><p class="dsqjs-footer">Powered by <a class="dsqjs-disqus-logo" href="https://disqus.com" rel="nofollow noopener noreferrer" target="_blank"></a>&nbsp;&amp;&nbsp;<a href="https://github.com/SukkaW/DisqusJS" target="_blank">DisqusJS</a></p></footer>',n("dsqjs-force-dsqjs").addEventListener("click",l),t.src="https://".concat(h.config.shortname,".disqus.com/embed.js"),t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}function a(){n("disqus_thread").innerHTML='<div id="dsqjs"><section><div id="dsqjs-msg">正在检查 Disqus 能否访问...</div></section><footer><p class="dsqjs-footer">Powered by <a class="dsqjs-disqus-logo" href="https://disqus.com" rel="nofollow noopener noreferrer" target="_blank"></a>&nbsp;&amp;&nbsp;<a href="https://github.com/SukkaW/DisqusJS" target="_blank">DisqusJS</a></p></footer></div>';for(var t=["disqus.com","".concat(h.config.shortname,".disqus.com")],e=0,s=0,o=function(){t.length===e&&e===s?u():t.length===e&&l()},i=function(t){var n=new Image,i=setTimeout(function(){n.onerror=n.onload=null,e++,o()},3e3);n.onerror=function(){clearTimeout(i),e++,o()},n.onload=function(){clearTimeout(i),e++,s++,o()},n.src="https://".concat(t,"/favicon.ico?").concat(+new Date)},r=0;r<t.length;r++)i(t[r])}function c(){!function(){n("disqus_thread").innerHTML='<div id="dsqjs"><section><div id="dsqjs-msg"></div></section><header class="dsqjs-header dsqjs-hide" id="dsqjs-header"><nav class="dsqjs-nav dsqjs-clearfix"><ul><li class="dsqjs-nav-tab dsqjs-tab-active"><span><span id="dsqjs-comment-num"></span> Comments</span></li><li class="dsqjs-nav-tab"><span id="dsqjs-site-name"></span></li></ul><div class="dsqjs-order"><input class="dsqjs-order-radio" id="dsqjs-order-desc" type="radio" name="comment-order" value="desc"> <label class="dsqjs-order-label" for="dsqjs-order-desc" title="按从新到旧">最新</label> <input class="dsqjs-order-radio" id="dsqjs-order-asc" type="radio" name="comment-order" value="asc"> <label class="dsqjs-order-label" for="dsqjs-order-asc" title="按从旧到新">最早</label> <input class="dsqjs-order-radio" id="dsqjs-order-popular" type="radio" name="comment-order" value="popular"> <label class="dsqjs-order-label" for="dsqjs-order-popular" title="按评分从高到低">最佳</label></div></nav></header><section class="dsqjs-post-container"><ul class="dsqjs-post-list" id="dsqjs-post-container"></ul><a id="dsqjs-load-more" class="dsqjs-load-more dsqjs-hide">加载更多评论</a></section><footer><p class="dsqjs-footer">Powered by <a class="dsqjs-disqus-logo" href="https://disqus.com" rel="nofollow noopener noreferrer" target="_blank"></a>&nbsp;&amp;&nbsp;<a href="https://github.com/SukkaW/DisqusJS" target="_blank">DisqusJS</a></p></footer></div>',n("dsqjs-msg").innerHTML='评论基础模式加载中。如需完整体验请针对 disq.us | disquscdn.com | disqus.com 启用代理并 <a id="dsqjs-reload-disqus" class="dsqjs-msg-btn">尝试完整 Disqus 模式</a> | <a id="dsqjs-force-disqus" class="dsqjs-msg-btn">强制完整 Disqus 模式</a>。',n("dsqjs-reload-disqus").addEventListener("click",a),n("dsqjs-force-disqus").addEventListener("click",u),n("dsqjs-order-".concat(h.sortType)).setAttribute("checked","true");var e="".concat(h.config.api,"3.0/threads/list.json?forum=").concat(h.config.shortname,"&thread=ident:").concat(h.config.identifier,"&api_key=").concat(m());s(e,function(e){if(0===e.code&&1===e.response.length){var s=e.response[0];h.page={id:s.id,title:s.title,isClosed:s.isClosed,length:s.posts,comment:[]},n("dsqjs-comment-num").innerHTML=h.page.length,h.config.siteName&&(n("dsqjs-site-name").innerHTML=h.config.siteName),t()}else 0===e.code&&1!==e.response.length?(n("dsqjs-msg").innerHTML='该 Thread 并没有初始化，是否 <a id="dsqjs-force-disqus" class="dsqjs-msg-btn">切换到完整 Disqus 模式</a> 进行初始化？',n("dsqjs-force-disqus").addEventListener("click",u)):d()},function(t){d()})}();var t=function t(i){var c=n("dsqjs-load-more"),l=e.getElementsByClassName("dsqjs-order-radio"),f=function e(){var n=!0,s=!1,o=void 0;try{for(var i,r=l[Symbol.iterator]();!(n=(i=r.next()).done);n=!0)i.value.removeEventListener("change",g)}catch(e){s=!0,o=e}finally{try{n||null==r.return||r.return()}finally{if(s)throw o}}c.removeEventListener("click",e),t(h.page.next)},p=function(){i?(c.classList.remove("dsqjs-disabled"),c.innerHTML="加载更多评论失败，点击重试",c.addEventListener("click",f)):d()},g=function e(s){h.sortType=s.target.getAttribute("value"),o("disqus.sort",h.sortType);var i=!0,r=!1,a=void 0;try{for(var d,u=l[Symbol.iterator]();!(i=(d=u.next()).done);i=!0)d.value.removeEventListener("change",e)}catch(e){r=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(r)throw a}}c.removeEventListener("click",f),h.page.comment=[],h.page.next="",n("dsqjs-post-container").innerHTML='<p style="text-align: center">正在切换排序方式...</p>',c.classList.add("dsqjs-hide"),t()};i=i?"&cursor=".concat(i):"",c.classList.add("dsqjs-disabled");var v={parseDate:function(t){return Date.parse(new Date(t.createdAt))},parentAsc:function(t,e){return t.parent&&e.parent?v.parseDate(t)-v.parseDate(e):0}},q="".concat(h.config.api,"3.0/threads/listPostsThreaded?forum=").concat(h.config.shortname,"&thread=").concat(h.page.id).concat(i,"&api_key=").concat(m(),"&order=").concat(h.sortType);s(q,function(t){if(0===t.code&&0<t.response.length){c.classList.remove("dsqjs-disabled"),h.page.comment=h.page.comment.concat(t.response),h.page.comment.sort(v.parentAsc),r(h.page.comment);var e=!0,s=!1,o=void 0;try{for(var i,d=l[Symbol.iterator]();!(e=(i=d.next()).done);e=!0)i.value.addEventListener("change",g)}catch(t){s=!0,o=t}finally{try{e||null==d.return||d.return()}finally{if(s)throw o}}t.cursor.hasNext?(h.page.next=t.cursor.next,c.innerHTML="加载更多评论",c.classList.remove("dsqjs-hide"),c.addEventListener("click",f)):c.classList.add("dsqjs-hide")}else 0===t.code&&0===t.response.length?(n("dsqjs-msg").innerHTML='你可能无法访问 Disqus，已启用评论基础模式。如需完整体验请针对 disq.us | disquscdn.com | disqus.com 启用代理并 <a id="dsqjs-reload-disqus" class="dsqjs-msg-btn">尝试完整 Disqus 模式</a> | <a id="dsqjs-force-disqus" class="dsqjs-msg-btn">强制完整 Disqus 模式</a>。',n("dsqjs-header").classList.remove("dsqjs-hide"),n("dsqjs-post-container").innerHTML='<div class="dsqjs-no-comment">这里冷冷清清的，一条评论都没有</div>',n("dsqjs-reload-disqus").addEventListener("click",a),n("dsqjs-force-disqus").addEventListener("click",u)):p()},function(t){p()})},r=function(t){var e,s,o,r,c=function(t){return t.comment.author.profileUrl?(t.comment.avatarEl='<a href="'.concat(t.comment.author.profileUrl,'"><img src="').concat(t.comment.author.avatar.cache,'"></a>'),t.comment.authorEl='<span class="dsqjs-post-author"><a href="'.concat(t.comment.author.profileUrl,'" target="_blank" rel="nofollow noopener noreferrer">').concat(t.comment.author.name,"</a></span>")):(t.comment.avatarEl='<img src="'.concat(t.comment.author.avatar.cache,'">'),t.comment.authorEl='<span class="dsqjs-post-author">'.concat(t.comment.author.name,"</span>")),h.config.adminLabel&&t.isPrimary&&(t.comment.authorEl+='<span class="dsqjs-admin-badge">'.concat(h.config.adminLabel,"</span>")),t},d=function(t){var e,n,s,o="",r="";return r=t.isDeleted?"<small>此评论已被删除</small>":(o="".concat(t.authorEl,'<span class="dsqjs-bullet"></span>'),t.message),'<div class="dsqjs-post-item dsqjs-clearfix"><div class="dsqjs-post-avatar">'.concat(t.avatarEl,'</div><div class="dsqjs-post-body"><div class="dsqjs-post-header">').concat(o,'<span class="dsqjs-meta"><time>').concat(i(t.createdAt),'</time></span></div><div class="dsqjs-post-content">').concat((e=r,n=new RegExp(/<a(.*?)href="https:\/\/disq\.us(.+?)"(.+?)>(.+?)<\/a>/gi),s=new RegExp(/href=\"(.+?)\"/gi),(e.match(n)||[]).map(function(t){var n=t.match(s)[0].replace(/href=\"https:\/\/disq.us\/url\?url=/g,"").replace(/(.*)"/,"$1");n=(n=decodeURIComponent(n)).replace(/(.*):(.*)cuid=(.*)/,"$1"),e=e.replace(t,'<a href="'.concat(n,'" rel="nofollow noopener noreferrer">').concat(n,"</a>"))}),e=e.replace(/href=/g,'target="_blank" href=')),"</div></div></div>")},l="";e=[],s=[],o=function(t){return{comment:t,author:t.author.name,isPrimary:!!h.config.admin&&t.author.username===h.config.admin,children:r(+t.id)}},r=function(t){if(0===s.length)return null;for(var e=[],n=0;n<s.length;n++){var i=s[n];i.parent===t&&e.unshift(o(i))}return e.length?e:null},t.forEach(function(t){(t.parent?s:e).push(t)}),(t=e.map(function(t){return o(t)})).map(function(t){t.children&&(t.nesting=1),t=c(t),l+='<li data-id="comment-'.concat(t.comment.id,'" id="comment-').concat(t.comment.id,'">').concat(d(t.comment)).concat(function t(e){var n=e.nesting,s=e.children||[];if(s){var o=n<4?'<ul class="dsqjs-post-list dsqjs-children">':'<ul class="dsqjs-post-list">';return s.map(function(e){(e=c(e)).nesting=n+1,o+='<li data-id="comment-'.concat(e.comment.id,'" id="comment-').concat(e.comment.id,'">').concat(d(e.comment)).concat(t(e),"</li>")}),0!==(o+="</ul>").length?o:void 0}}(t),"</li>")}),n("dsqjs-header").classList.remove("dsqjs-hide"),n("dsqjs-msg").innerHTML='你可能无法访问 Disqus，已启用评论基础模式。如需完整体验请针对 disq.us | disquscdn.com | disqus.com 启用代理并 <a id="dsqjs-reload-disqus" class="dsqjs-msg-btn">尝试完整 Disqus 模式</a> | <a id="dsqjs-force-disqus" class="dsqjs-msg-btn">强制完整 Disqus 模式</a>。',n("dsqjs-post-container").innerHTML=l,n("dsqjs-reload-disqus").addEventListener("click",a),n("dsqjs-force-disqus").addEventListener("click",u)}}function d(){n("dsqjs-msg").innerHTML='评论基础模式加载失败，是否 <a id="dsqjs-reload-dsqjs" class="dsqjs-msg-btn">重载</a> 或 <a id="dsqjs-reload-disqus" class="dsqjs-msg-btn">尝试完整 Disqus 模式</a> ？',n("dsqjs-reload-dsqjs").addEventListener("click",c),n("dsqjs-reload-disqus").addEventListener("click",a)}function l(){o("dsqjs_mode","dsqjs"),c()}function u(){o("dsqjs_mode","disqus"),r()}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var h=[];h.config=t,h.config.api=h.config.api||"https://disqus.skk.moe/disqus/",h.config.identifier=h.config.identifier||e.location.origin+e.location.pathname+e.location.search,h.config.url=h.config.url||e.location.origin+e.location.pathname+e.location.search,h.page=[];var m=function(){return Array.isArray(h.config.apikey)?h.config.apikey[Math.floor(Math.random()*h.config.apikey.length)]:h.config.apikey};window.disqus_config=function(){this.page.url=h.config.url,this.page.identifier=h.config.identifier},h.mode=localStorage.getItem("dsqjs_mode"),h.sortType=localStorage.getItem("disqus.sort"),h.sortType||(o("disqus.sort","desc"),h.sortType="desc"),"disqus"===h.mode?r():"dsqjs"===h.mode?c():a()}})?s.apply(e,o):s)||(t.exports=i)},function(t,e,n){"use strict";n.r(e);n(4),n(5),n(6);var s=n(0),o=n.n(s),i=n(1),r=n.n(i),a=n(2),c=n.n(a);n(7);({init:function(){var t;t=document.querySelector(".site-header"),new r.a(t,{tolerance:5,offset:155,classes:{initial:"animated",pinned:"slideDown",unpinned:"slideUp"}}).init(),o()(document.querySelectorAll(".lazyload img")).observe(),window.DisqusJS=c.a}}).init()},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e){!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},o.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},o.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(t,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var i=o.element,r=a(i),c=this._rootContainsTarget(i),d=o.entry,l=e&&c&&this._computeTargetAndRootIntersection(i,n),u=o.entry=new s({time:t.performance&&performance.now&&performance.now(),target:i,boundingClientRect:r,rootBounds:n,intersectionRect:l});d?e&&c?this._hasCrossedThreshold(d,u)&&this._queuedEntries.push(u):d&&d.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,s){if("none"!=t.getComputedStyle(n).display){for(var o,i,r,c,l,u,h,m,f=a(n),p=d(n),g=!1;!g;){var v=null,q=1==p.nodeType?t.getComputedStyle(p):{};if("none"==q.display)return;if(p==this.root||p==e?(g=!0,v=s):p!=e.body&&p!=e.documentElement&&"visible"!=q.overflow&&(v=a(p)),v&&(o=v,i=f,void 0,void 0,void 0,void 0,void 0,void 0,r=Math.max(o.top,i.top),c=Math.min(o.bottom,i.bottom),l=Math.max(o.left,i.left),u=Math.min(o.right,i.right),m=c-r,!(f=(h=u-l)>=0&&m>=0&&{top:r,bottom:c,left:l,right:u,width:h,height:m})))break;p=d(p)}return f}},o.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,s=e.body;t={top:0,left:0,right:n.clientWidth||s.clientWidth,width:n.clientWidth||s.clientWidth,bottom:n.clientHeight||s.clientHeight,height:n.clientHeight||s.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,s=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==s)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==s||i<n!=i<s)return!0}},o.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},o.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},o.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},o.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=o,t.IntersectionObserverEntry=s}function s(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,s=this.intersectionRect,o=s.width*s.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function o(t,e){var n,s,o,i=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),s=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){n(),o=null},s))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function i(t,e,n,s){"function"==typeof t.addEventListener?t.addEventListener(e,n,s||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function r(t,e,n,s){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,s||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=d(n)}return!1}function d(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)}]);