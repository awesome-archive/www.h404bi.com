<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[H404bi's Notes]]></title>
  <subtitle><![CDATA[There will still be love in this world]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="//notes.h404bi.com/"/>
  <updated>2015-09-21T04:37:06.984Z</updated>
  <id>//notes.h404bi.com/</id>
  
  <author>
    <name><![CDATA[h404bi]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Newbie Mac Bootstrap]]></title>
    <link href="//notes.h404bi.com/posts/new-mac-env-bootstrap/"/>
    <id>//notes.h404bi.com/posts/new-mac-env-bootstrap/</id>
    <published>2015-09-20T09:28:19.000Z</published>
    <updated>2015-09-21T04:37:06.984Z</updated>
    <content type="html"><![CDATA[<p>入坑 Mac OS X，写点 note (nonsense) 以备玩坏系统重装时翻查。</p>
<a id="more"></a>
<h5>Command Line Tools for Xcode</h5>
<p>OS X 系统不像 Ubuntu 等发行版，系统默认是不包含编译工具链的（因为不是每位用户都需要吧，人性化？）。所以在使用时如果执行到含有诸如 gcc、make 等命令时，就会出现以下情况：</p>
<div class="figure center"><img class="fig-img" src="20150810021812.png" width="" height="" alt=""></div>
<p>这时就需要安装苹果提供的命令行工具包（Command Line Tools，下称 CLT）了。安装 CLT 有几种方法：</p>
<h6>1. 通过 Xcode 安装</h6>
<p><code>for Xcode</code> 嘛，当然能通过 Xcode 安装了，只不过没有安装 Xcode 亦可使用。所以如果你有安装 Xcode 的话，直接通过 Xcode 安装就好了。（我自己并没有安装 Xcode，因为暂无打算学习 Mac 相关的开发，所以私以为没必要耗费几个 G 的硬盘空间塞下 Xcode 吧， MacBook 的硬盘寸寸金啊。。。）。</p>
<h6>2. 通过终端安装</h6>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ xcode-select install</span><br></pre></td></tr></table></figure>
<p>或者输入 gcc 触发前文所提到的情况（见前文图）亦可。</p>
<h6>3. 通过离线安装包安装</h6>
<p>如果用前面的方法安装不成功的话，可到 Apple 下载中心获取离线安装包进行安装。（认准苹果官网）</p>
<blockquote>
<p><a href="https://developer.apple.com/downloads" target="_blank" rel="external">https://developer.apple.com/downloads</a> （需要使用 AppleID 登录）</p>
</blockquote>
<p>安装 CLT 后就可以使用工具链编译安装软件了，这是 Bootstrap A New Mac 的第一步。</p>
<h5>Where is the package manager of OS X?</h5>
<p>用 Mac 之前我还真没想过 OS X 有没有包管理工具。初次用了一会儿后，总觉得好像少了些什么，又说不出来。后在 Win 机上 Xshell 管理 VPS 时，才猛然想起：OS X 下用什么管理软件包？！Where is the package manager of OS X? 检索后才知道 OS X 不止默认不带 toolchains，还没有 package manager。带着使用 Linux 发行版心态的我不免有点失望。</p>
<h6>Homebrew</h6>
<p>官方没有社区有。强大的 Mac 社区造就了各种易用的工具。软件包管理工具就各式各样。其中最出名的两个是 <strong><a href="https://www.macports.org" target="_blank" rel="external">Macport</a></strong> 和 <strong><a href="http://brew.sh" target="_blank" rel="external">Homebrew</a></strong>。二者有着截然不同的理念，并且越来越多用户选择了 Homebrew。下面进行 Bootstrap A New Mac 的第二步。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ruby <span class="operator">-e</span> <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure>
<p><small>OS X 自带 ruby，难怪 ruby 社区一股 Macbook 风气。</small></p>
<p>然后就可以像用 <code>apt-get install/update</code> 那样 <code>brew install/update</code> 了，更多用法参见 <a href="https://github.com/Homebrew/homebrew/tree/master/share/doc/homebrew#readme" target="_blank" rel="external">Doc</a>。</p>
<h6>Homebrew-Cask</h6>
<p>介绍了 Homebrew 就不得不说 <strong><a href="http://caskroom.io/" target="_blank" rel="external">Caskroom</a></strong> 了。Homebrew 掌管了各种 CLI 软件包的管理，App Store 提供各种 GUI 应用，这 Cask 又是什么？Cask 其实是 Homebrew 的一个扩展，能让 brew 支持安装和管理 GUI 应用。能在 App Store 获取到的应用当然最好在上面下载安装了，但有些应用程序是没有上架 App Store 的（比如 IntelliJ IDEA），得去程序的官网各种点击下载安装。于是不甘这样的 Mac 社区 Geek 们搞了个 Homebrew-Cask，然后就能打开终端一句指令愉快地安装 GUI 应用了，比如：<code>brew cask install intellij-idea-ce</code>。安装 Cask 只需：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install caskroom/cask/brew-cask</span><br></pre></td></tr></table></figure>
<p><em>题外话：Cask 开发者们最近在 GitHub 上热论着一场改革<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>，说是要改变 Cask 目前的行为，以更贴合 regular usage，不过不能完美过渡的话会不会让用户感觉混乱。。</em></p>
<hr>
<p>…<br>
<a href="http://www.zhihu.com/question/20873070" target="_blank" rel="external">つづく</a></p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://github.com/caskroom/homebrew-cask/issues/13201" target="_blank" rel="external">Homebrew-Cask issue #13201</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>
]]></content>
    <summary type="html">
    <![CDATA[<p>入坑 Mac OS X，写点 note (nonsense) 以备玩坏系统重装时翻查。</p>]]>
    
    </summary>
    
      <category term="mac" scheme="//notes.h404bi.com/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[用 Scoop 改善 Windows Powershell]]></title>
    <link href="//notes.h404bi.com/posts/use-scoop-to-enhance-windows-powershell/"/>
    <id>//notes.h404bi.com/posts/use-scoop-to-enhance-windows-powershell/</id>
    <published>2015-08-23T15:19:11.000Z</published>
    <updated>2015-09-04T09:19:38.000Z</updated>
    <content type="html"><![CDATA[<h4>一本道</h4>
<p>软件包管理工具想必大家已经很清楚并且使用过。Debian/ Ubuntu 的 apt-get，Arch Linux 的 Pacman，就连本身并无自带包管理工具的 Mac 都有了 Macports 和极其好用的 Homebrew。至于 Windows 下，Geek 们也生产出各式各样的工具以贴合他们的 *nix 使用习惯。其中软件包管理工具中比较出名的就是 <strong><a href="https://chocolatey.org/" target="_blank" rel="external">chocolatey</a></strong> 了。</p>
<a id="more"></a>
<p>然而本文并不细谈 chocolatey，而谈的是一个叫做 <strong><a href="http://scoop.sh/" target="_blank" rel="external">Scoop</a></strong> 工具。官网上的描述是“A command-line installer for Windows”，其实说白了，就是和 chocolatey 同属一种东西，也就是 Windows 下的软件包管理工具，但其并没有 chocolatey 出名与强大。</p>
<p>那我为什么要用 Scoop 而不是 chocolatey？一正是 chocolatey 够强大，但其实我一开始并没打算折腾 Powershell，因为已经在用 Git Bash / MSYS2，所以我无需使用太过庞大的工具；二是 scoop 有吸引我的地方，它能把 Powershell 弄得看起来像 Linux shell 的样子，这也是为什么我要折腾 PS 的促因。</p>
<p>看 Scoop 主页的 Demo 视频，你会发现视频里的 PS 用起来很简约，而又是更方便了，不仅能安装运行各种 GNU 工具（<code>curl</code>、<code>vim</code> 等），而且 <code>$PS1</code> 看起来像是 Linux 下的终端，还能显示 git 仓库的分支信息，简直 Geek 范十足。虽说已有 MSYS2 这种更集成的 *nix 环境，但既然看到了 Scoop 又挺不错的于是就折腾下呗。毕竟是 Windows 内置的嘛，还能 Win + R powershell 快速打开，有时候打下指令（<code>ipconfig</code>、<code>nslookup</code> 什么的）还是会用到的呢。</p>
<div class="figure center nocaption"><img class="fig-img" src="2015-08-23-powershell.png" width="" height="" alt=""></div><div style="clear:both;"></div>
<h4>正题</h4>
<ol>
<li>
<p>确保你已安装 Powershell 3（其实 Windows7+ 应该都已经集成了），然后 WIn + R 输入 powershell 打开 PS，一句命令安装 scoop：</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iex (<span class="built_in">new-object</span> net.webclient).downloadstring(<span class="string">'https://get.scoop.sh'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>安装完成后输入 <code>scoop help</code>，如果报错则需要允许 PS 提供脚本执行权限，执行：</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set-executionpolicy</span> unrestricted -s cu</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>然后就可以像 apt-get 那样 <code>install/uninstall</code> 软件包了：</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop install pkgname</span><br></pre></td></tr></table></figure>
<p>用 scoop 安装软件包时不会弹出 UAC 要求提权，因为软件包是安装在当前用户的 <code>appdata</code> 下的，并通过 shims path 管理调用执行文件，而不是将每个执行文件的路径都加到 path 中。</p>
</li>
<li>
<p>开始美化控制台显示样式（★）<br>
首先 <code>scoop install concfg</code> 安装 <code>concfg</code>，然后导入 Solarized 主题 <code>concfg import solarized small</code>（concfg 支持多种主题，详见 <a href="https://github.com/lukesampson/concfg/tree/master/presets" target="_blank" rel="external">concfg/presets</a>），期间会提示你替换了哪些控制台（其实也就 <code>CMD</code> 和 <code>PS</code>）的样式。<br>
然后 <code>scoop install pshazz</code> 安装 <code>pshazz</code>，当安装完后马上就能看到 shell prompt 发生变化了，而且 cd 到一个 git 仓库还能看到分支信息，还支持 git auto-completion 呢。</p>
</li>
<li>
<p>然后还可以安装使用 <code>touch</code>、<code>curl</code>、<code>vim</code> 等更多的 GNU 命令行工具。scoop 官方的 Packages 是 <a href="https://github.com/lukesampson/scoop/tree/master/bucket" target="_blank" rel="external">bucket</a>，如果里面没有你想安装的工具你还可以<a href="https://github.com/lukesampson/scoop/wiki/Buckets#creating-your-own-bucket" target="_blank" rel="external">自定义 bucket</a> 或 <a href="https://github.com/lukesampson/scoop/wiki/Creating-an-app-manifest" target="_blank" rel="external">创建一个 package</a>。</p>
</li>
<li>
<p>最后还能用 scoop 进行开发语言环境的<a href="https://github.com/lukesampson/scoop/wiki/Switching-Ruby-and-Python-Versions" target="_blank" rel="external">多版本控制</a>呢，比如 <code>scoop install python27 python</code> 同时安装 Py2.7 和 Py3，然后 <code>scoop reset python27</code> 选择 Py2.7，<code>scoop reset python</code> 则设置为 Py3。</p>
</li>
</ol>
<p>至于更详尽的使用方法请 <code>scoop help</code> 或访问 <a href="https://github.com/lukesampson/scoop/wiki" target="_blank" rel="external">Scoop Wiki</a> 咯。</p>
<p>总结：所以说这种人就只能为他们的这种“如此难以伺候”而不断地折腾自己的电脑，折腾自己。这就是所谓“生命不息，折腾不止”吧哈哈哈。。。卒</p>
<p>(EOF)</p>
]]></content>
    <summary type="html">
    <![CDATA[<h4>一本道</h4>
<p>软件包管理工具想必大家已经很清楚并且使用过。Debian/ Ubuntu 的 apt-get，Arch Linux 的 Pacman，就连本身并无自带包管理工具的 Mac 都有了 Macports 和极其好用的 Homebrew。至于 Windows 下，Geek 们也生产出各式各样的工具以贴合他们的 *nix 使用习惯。其中软件包管理工具中比较出名的就是 <strong><a href="https://chocolatey.org/">chocolatey</a></strong> 了。</p>]]>
    
    </summary>
    
      <category term="superuser" scheme="//notes.h404bi.com/tags/superuser/"/>
    
      <category term="windows" scheme="//notes.h404bi.com/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="//notes.h404bi.com/posts/hello-world/"/>
    <id>//notes.h404bi.com/posts/hello-world/</id>
    <published>2015-05-20T12:28:19.000Z</published>
    <updated>2015-09-09T13:32:27.000Z</updated>
    <content type="html"><![CDATA[<p><s>欢迎回到地球。</s></p>
<a id="more"></a>
<p>每次在硬盘找旧文件时，总会经意或不经意地点进放有旧博客备份的目录。然后心里想什么时候再处理下这些博文数据呢？等到终于解压博客档案，导入 SQL 后，发现也没什么值得转换的。既然都打开了，还是截些图纪念一下吧。以后应该就不会再打开了，当然数据还会留档。。</p>
<div class="figure " style="width:;"><img class="fig-img" src="dark-past.png" width="" height="" alt=""></div>
<p>自建博客以来见过不少次 Hello World 了，说不定现在的这里又会是未来哪个时候嘴里说的“黑历史”呢，哈哈！…</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><s>欢迎回到地球。</s></p>]]>
    
    </summary>
    
  </entry>
  
</feed>
