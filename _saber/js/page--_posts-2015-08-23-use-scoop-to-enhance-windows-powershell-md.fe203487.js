(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{58:function(e,o,t){"use strict";t.r(o);var r=t(0),a=function(e){var o={attributes:{slug:"use-scoop-to-enhance-windows-powershell",layout:"post",title:"用 Scoop 改善 Windows Powershell",date:"2015-08-23 23:19:11",updated:"2015-09-04 17:19:38",cover:"/uploads/2018/12/20181225013.png",excerpt:'<p>软件包管理工具想必大家已经很清楚并且使用过。Debian/ Ubuntu 的 apt-get，\nArch Linux 的 Pacman，就连本身并无自带包管理工具的 Mac 都有了 Macports\n和极其好用的 Homebrew。至于 Windows 下，\nGeek 们也生产出各式各样的工具以贴合他们的 *nix 使用习惯。其中软件包管理工具中比较出名的就是 <strong><a href="https://chocolatey.org/" target="_blank" rel="noopener noreferrer">chocolatey</a></strong> 了。</p>\n',createdAt:"2015-08-23T15:19:11.000Z",updatedAt:"2015-09-04T09:19:38.000Z",type:"post",permalink:"/blog/2015/08/use-scoop-to-enhance-windows-powershell"},contentType:"markdown"},t=e.options.beforeCreate||[];e.options.beforeCreate=[function(){this.$page=o}].concat(t),e.options.name="page-wrapper-"+o.attributes.slug.replace(/[^0-9a-z\-]/i,"-")},s=Object(r.a)({},function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("layout-manager",{attrs:{page:e.$page}},[t("p",{staticStyle:{"text-align":"center"}},[t("a",{attrs:{href:"/blog/2018/05/talk-about-scoop-the-package-manager-for-windows-again"}},[t("strong",[e._v("关于 Scoop 的新文章")])])]),e._v(" "),t("h2",{attrs:{id:"%E4%B8%80%E6%9C%AC%E9%81%93"}},[e._v("一本道")]),e._v(" "),t("p",[e._v("软件包管理工具想必大家已经很清楚并且使用过。Debian/ Ubuntu 的 apt-get，\nArch Linux 的 Pacman，就连本身并无自带包管理工具的 Mac 都有了 Macports\n和极其好用的 Homebrew。至于 Windows 下，\nGeek 们也生产出各式各样的工具以贴合他们的 *nix 使用习惯。其中软件包管理工具中比较出名的就是 "),t("strong",[t("a",{attrs:{href:"https://chocolatey.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("chocolatey")])]),e._v(" 了。")]),e._v(" "),t("p",[e._v("然而本文并不细谈 chocolatey，而谈的是一个叫做 "),t("strong",[t("a",{attrs:{href:"http://scoop.sh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Scoop")])]),e._v("\n工具。官网上的描述是“A command-line installer for Windows”，其实说白了，就是和 chocolatey 同属一种东西，也就是 Windows 下的软件包管理工具，但其并没有 chocolatey 出名与强大。")]),e._v(" "),t("p",[e._v("那我为什么要用 Scoop 而不是 chocolatey？一正是 chocolatey 够强大，但其实我一开始并没打算折腾 Powershell，因为已经在用 Git Bash / MSYS2，所以我无需使用太过庞大的工具；二是 scoop 有吸引我的地方，它能把 Powershell\n弄得看起来像 Linux shell 的样子，这也是为什么我要折腾 PS 的促因。")]),e._v(" "),t("p",[e._v("看 Scoop 主页的 Demo 视频，你会发现视频里的 PS 用起来很简约，而又是更方便了，不仅能安装运行各种 GNU 工具（"),t("code",{pre:!0},[e._v("curl")]),e._v("、"),t("code",{pre:!0},[e._v("vim")]),e._v(" 等），而且 "),t("code",{pre:!0},[e._v("$PS1")]),e._v(" 看起来像是 Linux 下的终端，还能显示 git 仓库的分支信息，简直 Geek 范十足。虽说已有 MSYS2 这种更集成的 *nix 环境，但既然看到了 Scoop 又挺不错的于是就折腾下呗。毕竟是 Windows 内置的嘛，还能 Win + R powershell 快速打开，有时候打下指令（"),t("code",{pre:!0},[e._v("ipconfig")]),e._v("、"),t("code",{pre:!0},[e._v("nslookup")]),e._v(" 什么的）还是会用到的呢。")]),e._v(" "),t("figure",{staticClass:"center"},[t("img",{attrs:{"data-src":"/uploads/2015/08/20150823002.png",src:"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=",alt:"配置 Scoop 后的样子",title:"配置 Scoop 后的样子"}}),e._v(" "),t("figcaption",[t("p",[e._v("配置 Scoop 后的样子")])])]),e._v(" "),t("h2",{attrs:{id:"%E6%AD%A3%E9%A2%98"}},[e._v("正题")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("确保你已安装 Powershell 3（其实 Windows7+ 应该都已经集成了），然后 WIn + R 输入 powershell 打开 PS，一句命令安装 scoop：")]),e._v(" "),t("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"ps"}},[t("pre",{pre:!0,attrs:{class:"saber-highlight-code language-ps"}},[t("code",{pre:!0,attrs:{class:"language-ps"}},[e._v("iex (new-object net.webclient).downloadstring('https://get.scoop.sh')")])])])]),e._v(" "),t("li",[t("p",[e._v("安装完成后输入 "),t("code",{pre:!0},[e._v("scoop help")]),e._v("，如果报错则需要允许 PS 提供脚本执行权限，执行：")]),e._v(" "),t("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"ps"}},[t("pre",{pre:!0,attrs:{class:"saber-highlight-code language-ps"}},[t("code",{pre:!0,attrs:{class:"language-ps"}},[e._v("set-executionpolicy unrestricted -s cu")])])])]),e._v(" "),t("li",[t("p",[e._v("然后就可以像 apt-get 那样 "),t("code",{pre:!0},[e._v("install/uninstall")]),e._v(" 软件包了：")]),e._v(" "),t("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"ps"}},[t("pre",{pre:!0,attrs:{class:"saber-highlight-code language-ps"}},[t("code",{pre:!0,attrs:{class:"language-ps"}},[e._v("scoop install pkgname")])])]),t("p",[e._v("用 scoop 安装软件包时不会弹出 UAC 要求提权，因为软件包是安装在当前用户的 "),t("code",{pre:!0},[e._v("appdata")]),e._v(" 下的，并通过 shims path 管理调用执行文件，而不是将每个执行文件的路径都加到 path 中。")])]),e._v(" "),t("li",[t("p",[e._v("开始美化控制台显示样式（★）首先 "),t("code",{pre:!0},[e._v("scoop install concfg")]),e._v(" 安装 "),t("code",{pre:!0},[e._v("concfg")]),e._v("，然后导入 Solarized 主题"),t("code",{pre:!0},[e._v("concfg import solarized small")]),e._v("（concfg 支持多种主题，详见 "),t("a",{attrs:{href:"https://github.com/lukesampson/concfg/tree/master/presets",target:"_blank",rel:"noopener noreferrer"}},[e._v("concfg/presets")]),e._v("），期间会提示你替换了哪些控制台（其实也就 "),t("code",{pre:!0},[e._v("CMD")]),e._v(" 和 "),t("code",{pre:!0},[e._v("PS")]),e._v("）的样式。然后 "),t("code",{pre:!0},[e._v("scoop install pshazz")]),e._v(" 安装 "),t("code",{pre:!0},[e._v("pshazz")]),e._v("，当安装完后马上就能看到 shell prompt 发生变化了，而且 cd 到一个 git 仓库还能看到分支信息，还支持 git auto-completion 呢。")])]),e._v(" "),t("li",[t("p",[e._v("然后还可以安装使用 "),t("code",{pre:!0},[e._v("touch")]),e._v("、"),t("code",{pre:!0},[e._v("curl")]),e._v("、"),t("code",{pre:!0},[e._v("vim")]),e._v(" 等更多的 GNU 命令行工具。\nscoop 官方的 Packages 是 "),t("a",{attrs:{href:"https://github.com/lukesampson/scoop/tree/master/bucket",target:"_blank",rel:"noopener noreferrer"}},[e._v("bucket")]),e._v("，如果里面没有你想安装的工具你还可以"),t("a",{attrs:{href:"https://github.com/lukesampson/scoop/wiki/Buckets#creating-your-own-bucket",target:"_blank",rel:"noopener noreferrer"}},[e._v("自定义 bucket")]),e._v(" 或 "),t("a",{attrs:{href:"https://github.com/lukesampson/scoop/wiki/Creating-an-app-manifest",target:"_blank",rel:"noopener noreferrer"}},[e._v("创建一个 package")]),e._v("。")])]),e._v(" "),t("li",[t("p",[e._v("最后还能用 scoop 进行开发语言环境的"),t("a",{attrs:{href:"https://github.com/lukesampson/scoop/wiki/Switching-Ruby-and-Python-Versions",target:"_blank",rel:"noopener noreferrer"}},[e._v("多版本控制")]),e._v("呢，比如 "),t("code",{pre:!0},[e._v("scoop install python27 python")]),e._v(" 同时安装 Py2.7 和 Py3，然后 "),t("code",{pre:!0},[e._v("scoop reset python27")]),e._v(" 选择 Py2.7，"),t("code",{pre:!0},[e._v("scoop reset python")]),e._v(" 则设置为 Py3。")])])]),e._v(" "),t("p",[e._v("至于更详尽的使用方法请 "),t("code",{pre:!0},[e._v("scoop help")]),e._v(" 或访问 "),t("a",{attrs:{href:"https://github.com/lukesampson/scoop/wiki",target:"_blank",rel:"noopener noreferrer"}},[e._v("Scoop Wiki")]),e._v(" 咯。")]),e._v(" "),t("p",[e._v("总结：所以说这种人就只能为他们的这种“如此难以伺候”而不断地折腾自己的电脑，折腾自己。这就是所谓“生命不息，折腾不止”吧哈哈哈。。。卒")])])},[],!1,null,null,null);"function"==typeof a&&a(s);o.default=s.exports}}]);